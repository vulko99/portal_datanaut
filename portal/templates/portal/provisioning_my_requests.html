{% extends "portal/base_portal.html" %}
{% block content %}

<div class="portal-card">
  <div class="d-flex align-items-start justify-content-between gap-3">
    <div>
      <div class="section-eyebrow">Provisioning Hub</div>
      <div class="section-title">My requests</div>
      <div class="section-subtitle">Requests you have submitted.</div>
    </div>
    <a href="{% url 'portal:provisioning_hub' %}" class="btn btn-ghost btn-sm">Back</a>
  </div>

  <div class="mt-3">
    {% if requests and requests|length %}
      <table class="portal-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Service</th>
            <th>Status</th>
            <th>Created</th>
          </tr>
        </thead>
        <tbody>
          {% for r in requests %}
          <tr>
            <td>{{ r.id }}</td>
            <td>{{ r.service }}</td>
            <td>{{ r.status }}</td>
            <td>{{ r.created_at }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <div class="empty mt-3">
        No requests yet.
        <div class="mt-2">
          <a class="link-inline" href="{% url 'portal:provisioning_catalog' %}">Open catalog</a> to request access.
        </div>
      </div>
    {% endif %}
  </div>
</div>

{% endblock %}
